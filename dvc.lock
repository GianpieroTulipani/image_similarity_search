schema: '2.0'
stages:
  extract:
    cmd: python image_similarity_search/pre_processing.py -i data/raw/catalogue -o
      data/interim/dataset.csv -m data/interim/mapping.csv
    deps:
    - path: data/interim/mapping.csv
      hash: md5
      md5: f1dc08827e1d6c89c6f4a701031ca793
      size: 3389
      isexec: true
    - path: data/raw/catalogue
      hash: md5
      md5: 794c65493a16d301ee1319afe5818900.dir
      size: 10024878904
      nfiles: 7
    - path: image_similarity_search/pre_processing.py
      hash: md5
      md5: f5e74baa7c173d598f9ea4584bda4d84
      size: 6344
      isexec: true
    outs:
    - path: data/interim/dataset.csv
      hash: md5
      md5: 758b900f5ee2128778478d34607724dd
      size: 6700529
  split:
    cmd: python image_similarity_search/split.py -i data/interim/dataset.csv --train-path
      data/processed/train.csv --test-path  data/processed/test.csv
    deps:
    - path: data/interim/dataset.csv
      hash: md5
      md5: 758b900f5ee2128778478d34607724dd
      size: 6700529
    - path: image_similarity_search/split.py
      hash: md5
      md5: 1ec8a6c7c391dae907ae55e0562dac78
      size: 1073
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: aff426cf69d5d24b1f661144735ef353
      size: 1338424
    - path: data/processed/train.csv
      hash: md5
      md5: 3191b999e8fe7e24c4737a0c4b77b5f4
      size: 5362251
  train_autoencoder:
    cmd: python image_similarity_search/autoencoder.py --train_path "data/processed/train.csv"
      --test_path "data/processed/test.csv" --save_path "models/autoencoder.pth"
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: d1d9282b9cc08b310bcc3d2d17188cc1
      size: 286377
    - path: data/processed/train.csv
      hash: md5
      md5: 9d04a11a495f74ee38814e31db9169d5
      size: 1145222
    - path: image_similarity_search/autoencoder.py
      hash: md5
      md5: 23e026859aa21cc2ef18b08167fd6879
      size: 4317
    outs:
    - path: models/autoencoder.pth
      hash: md5
      md5: 34526f7313d03be69a321c3c0cd0f15c
      size: 20656962
